<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç SVG –º–∞—Ä–∫–µ—Ä—ñ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .marker-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .marker-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .marker-image {
            width: 64px;
            height: 64px;
            margin: 10px;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }
        .marker-name {
            font-weight: bold;
            margin: 10px 0;
            color: #333;
        }
        .marker-url {
            font-size: 12px;
            color: #666;
            word-break: break-all;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .status {
            text-align: center;
            padding: 10px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>üéØ –¢–µ—Å—Ç SVG –º–∞—Ä–∫–µ—Ä—ñ–≤ –¥–ª—è –∫–∞—Ä—Ç–∏</h1>
    
    <div id="status" class="status">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä—ñ–≤...</div>
    
    <div class="marker-grid" id="markerGrid">
        <!-- –ú–∞—Ä–∫–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>

    <script>
        // –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –º–∞—Ä–∫–µ—Ä–æ–≤
        const markerTypes = [
            { name: 'shahed', title: 'üöÅ –®–∞—Ö–µ–¥' },
            { name: 'raketa', title: 'üöÄ –†–∞–∫–µ—Ç–∞' },
            { name: 'avia', title: '‚úàÔ∏è –ê–≤—ñ–∞—Ü—ñ—è' },
            { name: 'artillery', title: 'üí• –ê—Ä—Ç–∏–ª–µ—Ä—ñ—è' },
            { name: 'mlrs', title: 'üéØ –†–°–ó–í' },
            { name: 'fpv', title: 'üõ∏ FPV –¥—Ä–æ–Ω' },
            { name: 'obstril', title: 'üí£ –û–±—Å—Ç—Ä—ñ–ª' },
            { name: 'vibuh', title: 'üí• –í–∏–±—É—Ö' },
            { name: 'pusk', title: 'üî• –ü—É—Å–∫' },
            { name: 'rozved', title: 'üëÅÔ∏è –†–æ–∑–≤—ñ–¥–∫–∞' },
            { name: 'rszv', title: 'üéØ –†–°–ó–í –ö–ê–ë' },
            { name: 'korabel', title: 'üö¢ –ö–æ—Ä–∞–±–µ–ª—å' },
            { name: 'pvo', title: 'üõ°Ô∏è –ü–í–û' },
            { name: 'trivoga', title: 'üö® –¢—Ä–∏–≤–æ–≥–∞' },
            { name: 'vidboi', title: '‚úÖ –í—ñ–¥–±—ñ–π' }
        ];

        const statusDiv = document.getElementById('status');
        const markerGrid = document.getElementById('markerGrid');

        async function testMarkers() {
            let successCount = 0;
            let errorCount = 0;

            for (const marker of markerTypes) {
                const card = document.createElement('div');
                card.className = 'marker-card';
                
                const url = `/svg_marker/${marker.name}?size=64`;
                
                card.innerHTML = `
                    <div class="marker-name">${marker.title}</div>
                    <img class="marker-image" src="${url}" alt="${marker.name}" 
                         onload="this.style.opacity=1" 
                         onerror="this.style.background='#ffebee'; this.alt='‚ùå –ü–æ–º–∏–ª–∫–∞'">
                    <div class="marker-url">${url}</div>
                `;
                
                markerGrid.appendChild(card);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–∞—Ä–∫–µ—Ä–∞
                try {
                    const response = await fetch(url);
                    if (response.ok) {
                        successCount++;
                    } else {
                        errorCount++;
                    }
                } catch (error) {
                    errorCount++;
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            if (errorCount === 0) {
                statusDiv.className = 'status success';
                statusDiv.textContent = `‚úÖ –í—Å—ñ ${successCount} –º–∞—Ä–∫–µ—Ä—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —É—Å–ø—ñ—à–Ω–æ!`;
            } else {
                statusDiv.className = 'status error';
                statusDiv.textContent = `‚ö†Ô∏è ${successCount} —É—Å–ø—ñ—à–Ω–æ, ${errorCount} –∑ –ø–æ–º–∏–ª–∫–∞–º–∏`;
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', testMarkers);
    </script>
</body>
</html>

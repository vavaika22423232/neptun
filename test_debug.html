<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Debug Parse Test</title>
</head>
<body>
    <h1>Test Debug Parse Endpoint</h1>
    <textarea id="messageText" rows="30" cols="80">Сумщина:
4х БпЛА курсом на Недригайлів 
БпЛА курсом на Липову Долину 
БпЛА курсом на Конотоп 

Чернігівщина:
БпЛА курсом на Прилуки  
3х БпЛА курсом на Корюківку 
15х БпЛА курсом на Ніжин
5х БпЛА курсом на Десну
БпЛА курсом на Кіпті
4х БпЛА курсом на Ічню
БпЛА курсом на Гончарівське 

Полтавщина:
БпЛА курсом на Гадяч 
2х БпЛА курсом на Кременчук 
2х БпЛА курсом на Миргород 

Черкащина:
БпЛА курсом на Цвіткове

Київщина:
5х БпЛА курсом на Страхолісся
3х БпЛА курсом на Білу Церкву 
2х БпЛА курсом на Київ
2х БпЛА курсом на Бровари 
БпЛА курсом на Бишів 

Житомирщина:
БпЛА курсом на Коростень 
БпЛА курсом на Чоповичі
БпЛА курсом на Звягель 
БпЛА курсом на Радомишль 

Харківщина:
2х БпЛА курсом на Сахновщину 

Дніпропетровщина:
БпЛА курсом на Камʼянське 
2х БпЛА курсом на Солоне 

Кіровоградщина:
2х БпЛА курсом на Кропивницький 
БпЛА курсом на Піщаний Брід
4х БпЛА курсом на Бобринець
БпЛА курсом на Петрове

Херсонщина:
15х БпЛА курсом на Тендрівську косу

✙ Напрямок ракет  (https://t.me/napramok)✙
✙Підтримати канал (https://send.monobank.ua/5Pwr3r52mg)✙</textarea>
    <br><br>
    <button onclick="testParse()">Test Parse</button>
    <br><br>
    <div id="result"></div>

    <script>
        async function testParse() {
            const text = document.getElementById('messageText').value;
            const data = {
                text: text,
                mid: "test_web",
                date: "2025-09-02 12:00:00",
                channel: "napramok"
            };

            try {
                const response = await fetch('https://neptun-7ua9.onrender.com/debug_parse', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                document.getElementById('result').innerHTML = 
                    '<h2>Result:</h2>' +
                    '<p>Tracks count: ' + result.count + '</p>' +
                    '<p>Success: ' + result.ok + '</p>' +
                    '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    '<h2>Error:</h2>' +
                    '<p>' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>

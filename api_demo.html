
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ukraine Alert API - –î–µ–º–æ –º–∞—Ä–∫–µ—Ä—ã</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        #map { height: 600px; border: 2px solid #333; border-radius: 8px; }
        .info { background: #f0f0f0; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .marker-info { background: white; padding: 10px; margin: 5px 0; border-radius: 5px; border-left: 4px solid #007cba; }
        .stats { display: flex; gap: 20px; margin-bottom: 20px; }
        .stat { background: #007cba; color: white; padding: 10px 15px; border-radius: 5px; text-align: center; }
        .refresh-btn { background: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        .refresh-btn:hover { background: #218838; }
    </style>
</head>
<body>
    <h1>üá∫üá¶ Ukraine Alert API - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤</h1>
    
    <div class="stats">
        <div class="stat">
            <div><strong>6</strong></div>
            <div>–ú–∞—Ä–∫–µ—Ä—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ</div>
        </div>
        <div class="stat">
            <div><strong>3</strong></div>
            <div>–¢–∏–ø—ñ–≤ –∑–∞–≥—Ä–æ–∑</div>
        </div>
        <div class="stat">
            <div><strong>6</strong></div>
            <div>–†–µ–≥—ñ–æ–Ω—ñ–≤</div>
        </div>
    </div>
    
    <button class="refresh-btn" onclick="location.reload()">üîÑ –û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ</button>
    
    <div id="map"></div>
    
    <div class="info">
        <h3>üìç –ú–∞—Ä–∫–µ—Ä–∏ –Ω–∞ –∫–∞—Ä—Ç—ñ:</h3>

        <div class="marker-info">
            <strong>‚úàÔ∏è –º. –ö–∏—ó–≤</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 50.4501, 30.5234<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: air_alert<br>
            –ß–∞—Å: 2025-09-29T18:40:00Z
        </div>
        
        <div class="marker-info">
            <strong>üí• –º. –•–∞—Ä–∫—ñ–≤</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 49.9935, 36.2304<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: artillery<br>
            –ß–∞—Å: 2025-09-29T18:35:00Z
        </div>
        
        <div class="marker-info">
            <strong>‚úàÔ∏è –º. –î–Ω—ñ–ø—Ä–æ</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 48.4647, 35.0462<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: air_alert<br>
            –ß–∞—Å: 2025-09-29T18:38:00Z
        </div>
        
        <div class="marker-info">
            <strong>‚úàÔ∏è –º. –û–¥–µ—Å–∞</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 46.4825, 30.7233<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: air_alert<br>
            –ß–∞—Å: 2025-09-29T18:42:00Z
        </div>
        
        <div class="marker-info">
            <strong>‚úàÔ∏è –º. –õ—å–≤—ñ–≤</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 49.8397, 24.0297<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: air_alert<br>
            –ß–∞—Å: 2025-09-29T18:45:00Z
        </div>
        
        <div class="marker-info">
            <strong>üèôÔ∏è –º. –ú–∞—Ä—ñ—É–ø–æ–ª—å</strong><br>
            –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: 47.0956, 37.5431<br>
            –¢–∏–ø –∑–∞–≥—Ä–æ–∑–∏: urban_combat<br>
            –ß–∞—Å: 2025-09-29T17:30:00Z
        </div>
        
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        const map = L.map('map').setView([48.3794, 31.1656], 6);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);
        
        // –î–∞–Ω–Ω—ã–µ –º–∞—Ä–∫–µ—Ä–æ–≤
        const markers = [{"api_data": {"alert_type": "AIR", "last_update": "2025-09-29T18:40:00Z", "region_id": "demo_kyiv"}, "id": "demo_kyiv_air", "lat": 50.4501, "lng": 30.5234, "message": "\ud83d\udea8 \u043c. \u041a\u0438\u0457\u0432 - AIR ALERT", "region": "\u043c. \u041a\u0438\u0457\u0432", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "air_alert", "timestamp": "2025-09-29T18:40:00Z"}, {"api_data": {"alert_type": "ARTILLERY", "last_update": "2025-09-29T18:35:00Z", "region_id": "demo_kharkiv"}, "id": "demo_kharkiv_artillery", "lat": 49.9935, "lng": 36.2304, "message": "\ud83d\udea8 \u043c. \u0425\u0430\u0440\u043a\u0456\u0432 - ARTILLERY", "region": "\u043c. \u0425\u0430\u0440\u043a\u0456\u0432", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "artillery", "timestamp": "2025-09-29T18:35:00Z"}, {"api_data": {"alert_type": "AIR", "last_update": "2025-09-29T18:38:00Z", "region_id": "demo_dnipro"}, "id": "demo_dnipro_air", "lat": 48.4647, "lng": 35.0462, "message": "\ud83d\udea8 \u043c. \u0414\u043d\u0456\u043f\u0440\u043e - AIR ALERT", "region": "\u043c. \u0414\u043d\u0456\u043f\u0440\u043e", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "air_alert", "timestamp": "2025-09-29T18:38:00Z"}, {"api_data": {"alert_type": "AIR", "last_update": "2025-09-29T18:42:00Z", "region_id": "demo_odesa"}, "id": "demo_odesa_air", "lat": 46.4825, "lng": 30.7233, "message": "\ud83d\udea8 \u043c. \u041e\u0434\u0435\u0441\u0430 - AIR ALERT", "region": "\u043c. \u041e\u0434\u0435\u0441\u0430", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "air_alert", "timestamp": "2025-09-29T18:42:00Z"}, {"api_data": {"alert_type": "AIR", "last_update": "2025-09-29T18:45:00Z", "region_id": "demo_lviv"}, "id": "demo_lviv_air", "lat": 49.8397, "lng": 24.0297, "message": "\ud83d\udea8 \u043c. \u041b\u044c\u0432\u0456\u0432 - AIR ALERT", "region": "\u043c. \u041b\u044c\u0432\u0456\u0432", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "air_alert", "timestamp": "2025-09-29T18:45:00Z"}, {"api_data": {"alert_type": "URBAN_FIGHTS", "last_update": "2025-09-29T17:30:00Z", "region_id": "demo_mariupol"}, "id": "demo_mariupol_urban", "lat": 47.0956, "lng": 37.5431, "message": "\ud83d\udea8 \u043c. \u041c\u0430\u0440\u0456\u0443\u043f\u043e\u043b\u044c - URBAN FIGHTS", "region": "\u043c. \u041c\u0430\u0440\u0456\u0443\u043f\u043e\u043b\u044c", "region_type": "city", "source": "ukraine_alert_api_demo", "threat_type": "urban_combat", "timestamp": "2025-09-29T17:30:00Z"}];
        
        // –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç—É
        markers.forEach(marker => {
            const threatIcons = {
                'air_alert': '‚úàÔ∏è',
                'artillery': 'üí•', 
                'urban_combat': 'üèôÔ∏è',
                'chemical': '‚ò¢Ô∏è',
                'nuclear': '‚ò¢Ô∏è'
            };
            
            const icon = threatIcons[marker.threat_type] || 'üö®';
            
            const markerIcon = L.divIcon({
                html: `<div style="
                    background: #ff4444;
                    border: 2px solid #fff;
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 20px;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                ">${icon}</div>`,
                className: 'api-alert-marker',
                iconSize: [40, 40],
                iconAnchor: [20, 20]
            });
            
            L.marker([marker.lat, marker.lng], {icon: markerIcon})
                .bindPopup(`
                    <div>
                        <h4>üá∫üá¶ ${marker.region}</h4>
                        <p><strong>–¢–∏–ø:</strong> ${marker.threat_type}</p>
                        <p><strong>–ß–∞—Å:</strong> ${new Date(marker.timestamp).toLocaleString('uk-UA')}</p>
                        <p><strong>–î–∂–µ—Ä–µ–ª–æ:</strong> Ukraine Alert API</p>
                    </div>
                `)
                .addTo(map);
        });
        
        console.log(`üá∫üá¶ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${markers.length} –º–∞—Ä–∫–µ—Ä—ñ–≤ –∑ Ukraine Alert API`);
    </script>
</body>
</html>
    
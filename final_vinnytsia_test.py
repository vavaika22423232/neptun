#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
sys.path.append('/Users/vladimirmalik/Desktop/render2')

from app import CITY_COORDS

print("=== –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –í–ò–ù–ù–ò–¶–ö–û–ô –û–ë–õ–ê–°–¢–ò ===")
print()

# –ì—Ä—É–ø–ø—ã –≥–æ—Ä–æ–¥–æ–≤ –í–∏–Ω–Ω–∏—Ü–∫–æ–π –æ–±–ª–∞—Å—Ç–∏
city_groups = {
    '–û–±–ª–∞—Å–Ω–∏–π —Ü–µ–Ω—Ç—Ä': ['–≤—ñ–Ω–Ω–∏—Ü—è'],
    
    '–ú—ñ—Å—Ç–∞ –æ–±–ª–∞—Å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è': [
        '–∫–æ–∑—è—Ç–∏–Ω', '—Ö–º—ñ–ª—å–Ω–∏–∫', '–ª–∞–¥–∏–∂–∏–Ω', '–º–æ–≥–∏–ª—ñ–≤-–ø–æ–¥—ñ–ª—å—Å—å–∫–∏–π'
    ],
    
    '–†–∞–π—Ü–µ–Ω—Ç—Ä–∏': [
        '–±–∞—Ä', '–≥–∞–π—Å–∏–Ω', '–∂–º–µ—Ä–∏–Ω–∫–∞', '—ñ–ª–ª—ñ–Ω—Ü—ñ', '–∫–∞–ª–∏–Ω—ñ–≤–∫–∞', '–∫—Ä–∏–∂–æ–ø—ñ–ª—å',
        '–ª–∏–ø–æ–≤–µ—Ü—å', '–ª—ñ—Ç–∏–Ω', '–º—É—Ä–æ–≤–∞–Ω—ñ –∫—É—Ä–∏–ª—ñ–≤—Ü—ñ', '–Ω–µ–º–∏—Ä—ñ–≤', '–æ—Ä–∞—Ç—ñ–≤',
        '–ø—ñ—â–∞–Ω–∫–∞', '–ø–æ–≥—Ä–µ–±–∏—â–µ', '—Ç–µ–ø–ª–∏–∫', '—Ç–æ–º–∞—à–ø—ñ–ª—å', '—Ç—É–ª—å—á–∏–Ω', '—Ç–∏–≤—Ä—ñ–≤',
        '—á–µ—á–µ–ª—å–Ω–∏–∫', '—à–∞—Ä–≥–æ—Ä–æ–¥'
    ],
    
    '–°–µ–ª–∏—â–∞ –º—ñ—Å—å–∫–æ–≥–æ —Ç–∏–ø—É': [
        '–±—Ä–∞—ó–ª—ñ–≤', '–≤–∞–ø–Ω—è—Ä–∫–∞', '–≥–Ω—ñ–≤–∞–Ω—å', '–¥–∞—à—ñ–≤', '–¥–µ—Ä–∞–∂–Ω—è', '–¥–∂—É–ª–∏–Ω–∫–∞',
        '–º—É—Ä–∞—Ñ–∞', '–æ—Ö–º–∞—Ç—ñ–≤', '–ø–µ—á–µ—Ä–∞', '—Å—Ç–∞–Ω—ñ—Å–ª–∞–≤—á–∏–∫', '—Å—Ç—Ä–∏–∂–∞–≤–∫–∞', '—á–æ—Ä–Ω–∏–π –æ—Å—Ç—Ä—ñ–≤'
    ],
    
    '–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü—ñ—ó (–¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)': [
        '—Ç—Ä–æ—Å—Ç—è–Ω–µ—Ü—å –≤—ñ–Ω–Ω–∏—Ü—å–∫–∞', '—è–º–ø—ñ–ª—å –≤—ñ–Ω–Ω–∏—Ü—å–∫–∞'
    ]
}

total_cities = 0
total_found = 0

for group_name, cities in city_groups.items():
    print(f"üìç {group_name.upper()}")
    group_found = 0
    
    for city in cities:
        total_cities += 1
        if city in CITY_COORDS:
            coords = CITY_COORDS[city]
            print(f"  ‚úÖ {city:25}: {coords}")
            total_found += 1
            group_found += 1
        else:
            print(f"  ‚ùå {city:25}: –ù–ï –ù–ê–ô–î–ï–ù")
    
    print(f"     –ù–∞–π–¥–µ–Ω–æ –≤ –≥—Ä—É–ø–ø–µ: {group_found}/{len(cities)}")
    print()

print("=== –û–ë–©–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢ ===")
print(f"–í—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: {total_cities}")
print(f"–ù–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: {total_found}")
print(f"–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫—Ä—ã—Ç–∏—è: {(total_found/total_cities)*100:.1f}%")

if total_found == total_cities:
    print("üéâ –ò–î–ï–ê–õ–¨–ù–û–ï –ü–û–ö–†–´–¢–ò–ï –í–ò–ù–ù–ò–¶–ö–û–ô –û–ë–õ–ê–°–¢–ò!")
    print()
    print("–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç:")
    print("  ‚Ä¢ –¢–æ—á–Ω–æ –≥–µ–æ–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –æ–±–ª–∞—Å—Ç–∏")
    print("  ‚Ä¢ –†–∞–∑–ª–∏—á–∞—Ç—å –≥–æ—Ä–æ–¥–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö") 
    print("  ‚Ä¢ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–∫–ª–æ–Ω–µ–Ω–∏—è —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π")
    print("  ‚Ä¢ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—É—é –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è UAV —É–≥—Ä–æ–∑")
else:
    missing_count = total_cities - total_found
    print(f"‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç {missing_count} –≥–æ—Ä–æ–¥–æ–≤")

print()
print("=== –ü–†–û–í–ï–†–ö–ê –§–û–†–ú –°–ö–õ–û–ù–ï–ù–ò–Ø ===")
declension_samples = [
    ('–≤—ñ–Ω–Ω–∏—Ü—ñ', '–≤—ñ–Ω–Ω–∏—Ü—è'), ('–∫–æ–∑—è—Ç–∏–Ω—ñ', '–∫–æ–∑—è—Ç–∏–Ω'), ('–≥–∞–π—Å–∏–Ω—ñ', '–≥–∞–π—Å–∏–Ω'),
    ('—Ç—É–ª—å—á–∏–Ω—ñ', '—Ç—É–ª—å—á–∏–Ω'), ('—à–∞—Ä–≥–æ—Ä–æ–¥—ñ', '—à–∞—Ä–≥–æ—Ä–æ–¥'), ('—è–º–ø–æ–ª—ñ –≤—ñ–Ω–Ω–∏—Ü—å–∫–∞', '—è–º–ø—ñ–ª—å –≤—ñ–Ω–Ω–∏—Ü—å–∫–∞')
]

for declined, base in declension_samples:
    if declined in CITY_COORDS:
        print(f"  ‚úÖ {declined} ‚Üê {base}")
    else:
        print(f"  ‚ùå {declined} ‚Üê {base}")

print()
print("=== –ì–ï–û–ì–†–ê–§–ò–Ø ===")
# –ê–Ω–∞–ª–∏–∑ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
all_vinnytsia = [(city, coords) for city, coords in CITY_COORDS.items() 
                 if any(keyword in city for keyword in ['–≤—ñ–Ω–Ω–∏—Ü', '–∫–æ–∑—è—Ç–∏–Ω', '—Ö–º—ñ–ª—å–Ω–∏–∫', '–ª–∞–¥–∏–∂–∏–Ω', 
                                                       '–≥–∞–π—Å–∏–Ω', '–∂–º–µ—Ä–∏–Ω–∫', '—Ç—É–ª—å—á–∏–Ω', '—à–∞—Ä–≥–æ—Ä–æ–¥', 
                                                       '–±—Ä–∞—ó–ª—ñ–≤', '–Ω–µ–º–∏—Ä', '–æ—Ä–∞—Ç—ñ–≤', '–ª—ñ—Ç–∏–Ω']) 
                 and 27.5 <= coords[1] <= 30.0 and 48.0 <= coords[0] <= 50.2]

print(f"–ì–æ—Ä–æ–¥–æ–≤ –≤ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü–∞—Ö –í–∏–Ω–Ω–∏—Ü–∫–æ–π –æ–±–ª–∞—Å—Ç–∏: {len(all_vinnytsia)}")

if all_vinnytsia:
    lats = [coords[0] for _, coords in all_vinnytsia]
    lngs = [coords[1] for _, coords in all_vinnytsia]
    print(f"–®–∏—Ä–æ—Ç–∞: {min(lats):.3f} - {max(lats):.3f}")
    print(f"–î–æ–ª–≥–æ—Ç–∞: {min(lngs):.3f} - {max(lngs):.3f}")
